<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0">

    <link rel="stylesheet" type="text/css" href="css/demo.css">

    <script src="../src/zoox.js"></script>

    <script>
        zoox.init({
            path: './controls/',
            langs: ['ru', 'en'],
            debug: 'none',
            init: zxBase => {

                let init;
                let cMode;

                const changeDisplay = () => {

                    cMode = !cMode;

                    console.log('init:', cMode);

                    cMode ? zxBase.get('btn2').hide() : zxBase.get('btn2').display();
                };

                //Button 2
                const initButton2 = zxBtn => {

                    init = true;

                    zxBtn.setHandler(() => {

                        console.log('Button 2 click');

                        zxBase.get('btn1').getHTML().classList.toggle('error');
                        zxBtn.getHTML().classList.toggle('error');
                    });
                };

                //Button 1
                zxBase.get('btn1').setHandler(() => {

                    console.log('Button 1 click');

                    if (!init)
                        zxBase.prepare('btn2', initButton2)
                    else
                        changeDisplay();
                });
            }
        });
    </script>
</head>

<body class="schema-light">
    <z type="button" id="btn1">Button 1</z>
    <z type="button" id="btn2" class="error" z-hide>Button 2</z>
</body>

</html>